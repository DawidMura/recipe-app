[{"/home/user/Übungen/recipe-app/src/index.js":"1","/home/user/Übungen/recipe-app/src/App.js":"2","/home/user/Übungen/recipe-app/src/firebase.config.js":"3"},{"size":214,"mtime":1647860508245,"results":"4","hashOfConfig":"5"},{"size":5127,"mtime":1647860623628,"results":"6","hashOfConfig":"5"},{"size":486,"mtime":1647860508241,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","suppressedMessages":"10","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"11"},"uh2xy2",{"filePath":"12","messages":"13","suppressedMessages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"11"},"/home/user/Übungen/recipe-app/src/index.js",[],[],["19","20"],"/home/user/Übungen/recipe-app/src/App.js",["21"],[],"import React from \"react\";\nimport { db } from \"./firebase.config\";\nimport { useState, useEffect } from \"react\";\nimport {\n\tcollection,\n\tonSnapshot,\n\tdoc,\n\taddDoc,\n\tdeleteDoc,\n} from \"firebase/firestore\";\n\nconst App = () => {\n\tconst [recipes, setRecipes] = useState([]);\n\tconst [form, setForm] = useState({\n\t\ttitle: \"\",\n\t\tdesc: \"\",\n\t\tingredients: [],\n\t\tsteps: [],\n\t\timage: \"\",\n\t\talt: \"\",\n\t});\n\tconst [popupActive, setPopupActive] = useState(false);\n\n\tconst recipesCollectionRef = collection(db, \"recipes\");\n\n\tuseEffect(() => {\n\t\tonSnapshot(recipesCollectionRef, (snapshot) => {\n\t\t\tsetRecipes(\n\t\t\t\tsnapshot.docs.map((doc) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: doc.id,\n\t\t\t\t\t\tviewing: false,\n\t\t\t\t\t\t...doc.data(),\n\t\t\t\t\t\t//data() Ruft alle Felder des Dokuments als Objekt ab.\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t);\n\t\t\tconsole.log(snapshot);\n\t\t});\n\t}, []);\n\n\tconst handleView = (id) => {\n\t\tconst recipesClone = [...recipes];\n\t\trecipesClone.forEach((recipe) => {\n\t\t\tif (recipe.id === id) {\n\t\t\t\trecipe.viewing = !recipe.viewing;\n\t\t\t} else {\n\t\t\t\trecipe.viewing = false;\n\t\t\t}\n\t\t});\n\t\tsetRecipes(recipesClone);\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (!form.title || !form.desc || !form.ingredients || !form.steps) {\n\t\t\talert(\"Please fill out all fields\");\n\t\t\treturn;\n\t\t}\n\t\taddDoc(recipesCollectionRef, form);\n\n\t\tsetForm({\n\t\t\ttitle: \"\",\n\t\t\tdesc: \"\",\n\t\t\tingredients: [],\n\t\t\tsteps: [],\n\t\t\timage: \"\",\n\t\t\talt: \"\",\n\t\t});\n\t};\n\n\tconst handleIngredient = (e, i) => {\n\t\tconst ingredientClone = [...form.ingredients];\n\t\tingredientClone[i] = e.target.value;\n\t\tsetForm({\n\t\t\t...form,\n\t\t\tingredients: ingredientClone,\n\t\t});\n\t};\n\n\tconst handleStep = (e, i) => {\n\t\tconst stepsClone = [...form.steps];\n\t\tstepsClone[i] = e.target.value;\n\t\tsetForm({\n\t\t\t...form,\n\t\t\tsteps: stepsClone,\n\t\t});\n\t};\n\n\tconst handleIngredientCount = () => {\n\t\tsetForm({\n\t\t\t...form,\n\t\t\tingredients: [...form.ingredients, \"\"],\n\t\t});\n\t};\n\n\tconst handleStepCount = () => {\n\t\tsetForm({\n\t\t\t...form,\n\t\t\tsteps: [...form.steps, \"\"],\n\t\t});\n\t};\n\n\tconst removeRecipe = (id) => {\n\t\tdeleteDoc(doc(db, \"recipes\", id));\n\t};\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<h1>My recipes</h1>\n\t\t\t<button onClick={() => setPopupActive(!popupActive)}>Add recipe</button>\n\n\t\t\t<div className=\"recipes\">\n\t\t\t\t{recipes.map((recipe) => (\n\t\t\t\t\t<div className=\"recipe\" key={recipe.id}>\n\t\t\t\t\t\t<h3>{recipe.title}</h3>\n\t\t\t\t\t\t<p dangerouslySetInnerHTML={{ __html: recipe.desc }}></p>\n\t\t\t\t\t\t{recipe.viewing && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img className=\"img\" src={recipe.image} alt={recipe.desc} />\n\t\t\t\t\t\t\t\t<h4>Ingredients</h4>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t{recipe.ingredients.map((ingredient, i) => (\n\t\t\t\t\t\t\t\t\t\t<li key={i}>{ingredient}</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<h4>Steps</h4>\n\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t{recipe.steps.map((step, i) => (\n\t\t\t\t\t\t\t\t\t\t<li key={i}>{step}</li>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t\t\t<button onClick={() => handleView(recipe.id)}>\n\t\t\t\t\t\t\t\tView {recipe.viewing ? \"less\" : \"more\"}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tonClick={() => removeRecipe(recipe.id)}\n\t\t\t\t\t\t\t\tclassName=\"remove\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t{popupActive && (\n\t\t\t\t<div className=\"popup\">\n\t\t\t\t\t<div className=\"popup-inner\">\n\t\t\t\t\t\t<h2>Add a new recipe</h2>\n\t\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>Title</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={form.title}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setForm({ ...form, title: e.target.value })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>Image URL</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={form.image}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setForm({ ...form, image: e.target.value })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>Description</label>\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={form.desc}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setForm({ ...form, desc: e.target.value })}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>Ingredients</label>\n\t\t\t\t\t\t\t\t{form.ingredients.map((ingredient, i) => (\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\tvalue={ingredient}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleIngredient(e, i)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<button type=\"button\" onClick={handleIngredientCount}>\n\t\t\t\t\t\t\t\t\tAdd ingredient\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>Steps</label>\n\t\t\t\t\t\t\t\t{form.steps.map((step, i) => (\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\tvalue={step}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => handleStep(e, i)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<button type=\"button\" onClick={handleStepCount}>\n\t\t\t\t\t\t\t\t\tAdd Step\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"buttons\">\n\t\t\t\t\t\t\t\t<button onSubmit={() => handleSubmit()} type=\"submit\">\n\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"remove\"\n\t\t\t\t\t\t\t\t\tonClick={() => setPopupActive(false)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default App;\n","/home/user/Übungen/recipe-app/src/firebase.config.js",[],[],{"ruleId":"22","replacedBy":"23"},{"ruleId":"24","replacedBy":"25"},{"ruleId":"26","severity":1,"message":"27","line":40,"column":5,"nodeType":"28","endLine":40,"endColumn":7,"suggestions":"29"},"no-native-reassign",["30"],"no-negated-in-lhs",["31"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'recipesCollectionRef'. Either include it or remove the dependency array.","ArrayExpression",["32"],"no-global-assign","no-unsafe-negation",{"desc":"33","fix":"34"},"Update the dependencies array to be: [recipesCollectionRef]",{"range":"35","text":"36"},[817,819],"[recipesCollectionRef]"]